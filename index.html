<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Single Player Tournament</title>

    <style>
      body {
        font-family: Arial, sans-serif;
        background: #f2f2f2;
        padding: 20px;
      }

      h1 {
        text-align: center;
      }

      .controls {
        text-align: center;
        margin-bottom: 20px;
      }

      input {
        padding: 8px;
        width: 220px;
      }

      button {
        padding: 8px 12px;
        cursor: pointer;
      }

      .bracket {
        display: flex;
        gap: 40px;
        justify-content: center;
        overflow-x: auto;
      }

      .round {
        display: flex;
        flex-direction: column;
        gap: 20px;
      }

      .match {
        background: #fff;
        padding: 10px;
        border-radius: 6px;
        border: 2px solid #ccc;
        width: 160px;
      }

      .player {
        padding: 6px;
        border: 1px solid #aaa;
        border-radius: 4px;
        margin: 5px 0;
        text-align: center;
        cursor: pointer;
      }

      .player:hover {
        background: #e0ffe0;
      }

      .winner {
        background: #4caf50;
        color: white;
        font-weight: bold;
      }
    </style>
  </head>

  <body>
    <h1>Single Player Tournament Bracket</h1>

    <div class="controls">
      <input id="playerInput" placeholder="Enter player name" />
      <button onclick="addPlayer()">Add Player</button>
      <button onclick="generateBracket()">Generate Bracket</button>
    </div>

    <div class="bracket" id="bracket"></div>

    <script>
      let players = [];

      function addPlayer() {
        const input = document.getElementById("playerInput");
        const name = input.value.trim();
        if (!name) return;
        players.push(name);
        input.value = "";
        alert("Player added: " + name);
      }

      function generateBracket() {
        if (players.length < 2) {
          alert("Add at least 2 players");
          return;
        }
        document.getElementById("bracket").innerHTML = "";
        createRound(players);
      }

      function createRound(list) {
        const round = document.createElement("div");
        round.className = "round";

        for (let i = 0; i < list.length; i += 2) {
          const match = document.createElement("div");
          match.className = "match";

          match.appendChild(createPlayer(list[i], match));
          match.appendChild(createPlayer(list[i + 1] || "BYE", match));

          round.appendChild(match);
        }

        document.getElementById("bracket").appendChild(round);
      }

      function createPlayer(name, match) {
        const div = document.createElement("div");
        div.className = "player";
        div.textContent = name;

        if (name !== "BYE") {
          div.onclick = () => advance(div, match);
        }

        return div;
      }

      function advance(player, match) {
        const bracket = document.getElementById("bracket");
        const round = match.parentElement;
        const index = [...bracket.children].indexOf(round);

        player.classList.add("winner");

        let nextRound = bracket.children[index + 1];
        if (!nextRound) {
          nextRound = document.createElement("div");
          nextRound.className = "round";
          bracket.appendChild(nextRound);
        }

        let nextMatch = nextRound.lastChild;
        if (!nextMatch || nextMatch.children.length === 2) {
          nextMatch = document.createElement("div");
          nextMatch.className = "match";
          nextRound.appendChild(nextMatch);
        }

        const newPlayer = document.createElement("div");
        newPlayer.className = "player";
        newPlayer.textContent = player.textContent;
        newPlayer.onclick = () => advance(newPlayer, nextMatch);

        nextMatch.appendChild(newPlayer);
      }
    </script>
  </body>
</html>
